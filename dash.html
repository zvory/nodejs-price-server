<html>
    <body>
        <h1>Real Time Price Data from Node.js server</h1>
        <canvas id="mycanvas" width="600" height="300"></canvas>
        <ul id="pageViews"></ul>
        <script src="https://cdn.socket.io/socket.io-1.4.3.js"></script>
        <script src="smoothie.js"></script>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"> </script> 

        <script>


var smoothie = new SmoothieChart({ grid: { strokeStyle: 'rgb(125, 0, 0)', fillStyle: 'rgb(60, 0, 0)', lineWidth: 1, millisPerLine: 250, verticalSections: 6 } });
smoothie.streamTo(document.getElementById("mycanvas"), 1000);

var line1 = new TimeSeries();
smoothie.addTimeSeries(line1, { strokeStyle: 'rgb(0, 255, 0)', fillStyle: 'rgba(0, 255, 0, 0.4)', lineWidth: 3 });

var socket = io.connect('http://localhost:3000');
socket.on('connect', function () {
    socket.on('price', function (msg) {
          line1.append(new Date().getTime(), Number(msg));
    });
});


        </script>



    </body>
</html>
